# Surface topography file

SurfATT requires a surface topography file in the format of `netcdf` with the same format as the file generated by the **GMT** software. Thus, the surface topography file can be generated by the `gmt grdcut` the following command:

```{code-block}
gmt grdcut @earth_relief_01m -R-157/-152/18/21 -Gtopo.nc
```

The above command generates a surface topography file `hawaii.nc` with the region `-R-157/-152/18/21` from the `earth_relief_01m` dataset. The `earth_relief_01m` dataset can be downloaded from the **GMT** website [here](https://docs.generic-mapping-tools.org/latest/datasets/remote-data.html).

## Rotate coordinates of topography

The topography file generated by the `gmt grdcut` command is in the geographical coordinate system. To rotate the topography file to the model coordinate system, the `surfatt_rotate_topo` command can be used. The following command rotates the topography file `hawaii.nc` to the model coordinate system:

```bash
pos_str=19.5/-155.5
angle=-30

surfatt_rotate_topo -i hawaii.nc -a $angle -c $pos_str -x -0.75/0.8 -y -0.75/1 -o hawaii_rotated.nc
```

The `pos_str` is the center of rotation in latitude and longitude, and the `angle` is the rotation angle in degrees. The `-x` and `-y` options specify the range of the longitude and latitude axes in the model coordinate system. The rotated topography file is written to the output file `hawaii_rotated.nc`.

![](../_static/rotated_topo.png)

The rotated topography file `hawaii_rotated.nc` can be used as the input parameter `topo_file` in the SurfATT package for the inversion.
